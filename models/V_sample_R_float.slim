/*
	V_sample_R_float.slim
	
	This exercises Eidos function sample(float x, integer$ size, replace=T, weights=NULL)
*/

initialize() { }
1 early() {
	x = 0.0:10000;
	o = sample(x, 10000000, replace=T);
	
	for (i in 1:200)
		y = sample(x, 10000000, replace=T);
	
	// test only the last one, to avoid overhead
	if (abs(mean(o) - mean(y)) < 5.0)
		catn("### CORRECT ###");
	else
		catn("### *** INCORRECT *** ###");
}
